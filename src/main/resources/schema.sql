CREATE SCHEMA IF NOT EXISTS java302;
USE java302 ;

CREATE TABLE IF NOT EXISTS java302.users (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT,
  first_name VARCHAR(45) NOT NULL,
  last_name VARCHAR(45) NOT NULL,
  password VARCHAR(45) NOT NULL,
  email VARCHAR(128) NULL,
  phone_number VARCHAR(10) NULL,
  active tinyint(1) NOT NULL DEFAULT 1,
  PRIMARY KEY (id));

CREATE TABLE IF NOT EXISTS java302.user_images (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT,
  user_id INT UNSIGNED NOT NULL,
  content_type VARCHAR(45) NOT NULL,
  image BLOB NOT NULL,
  PRIMARY KEY (id));

CREATE TABLE IF NOT EXISTS java302.user_roles (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT,
  user_id INT UNSIGNED NOT NULL,
  role VARCHAR(45) NOT NULL,
  PRIMARY KEY (id));


CREATE TABLE IF NOT EXISTS java302.user_properties (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT,
  user_id INT UNSIGNED NOT NULL,
  prop_name VARCHAR(45) NOT NULL,
  prop_value VARCHAR(255) NOT NULL,
  PRIMARY KEY (id));


CREATE TABLE IF NOT EXISTS java302.contacts (
말d INT UNSIGNED NOT NULL AUTO_INCREMENT,
맍irst_name VARCHAR(45) NOT NULL,
맓ast_name VARCHAR(45) NOT NULL,
만mail VARCHAR(128) NULL,
맗hone_number VARCHAR(10) NULL,
마ctive tinyint(1) NOT NULL DEFAULT 1,
맛ser_id INT UNSIGNED NOT NULL,
PRIMARY KEY (id));

CREATE TABLE IF NOT EXISTS java302.contact_images (
말d INT UNSIGNED NOT NULL AUTO_INCREMENT,
맊ontact_id INT UNSIGNED NOT NULL,
맊ontent_type VARCHAR(45) NOT NULL,
말mage BLOB NOT NULL,
PRIMARY KEY (id));

